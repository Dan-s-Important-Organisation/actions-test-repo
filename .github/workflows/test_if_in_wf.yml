name: Testing IF

on:
  workflow_dispatch:

jobs:
    check_runner:
        runs-on: ubuntu-latest
        name: Check runner status  
        steps:
          - name: Check self-hosted runner status
            id: set-runner-status
            run: |
              status=$(echo "online")
              echo "::set-output name=status::$status"
              # echo "status=status" >> $GITHUB_OUTPUT
              echo "Determined Runner Status: $status"
        outputs:
          status: ${{ steps.set-runner-status.outputs.status }}

    qa:
        runs-on: ubuntu-latest
        name: Trigger QA automation
        needs: check_runner
        steps:
          - name: Trigger QA automation
            run: |
             echo "The output of the check_runner job is ${{ needs.check_runner.outputs.status }}"
             echo "Runner status:"
             echo ${{ needs.check_runner.outputs.status }}
             if [[ "${{contains(needs.check_runner.outputs.status, 'online')}}" == "true" ]]; then
               echo "Trigger QA automation sucess!"
             else
               echo "Trigger QA automation failed!"
             fi